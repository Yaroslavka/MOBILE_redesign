<?php

return array(
    'name'=>'m.medbooking.com',
    'language'=>'ru',
    'sourceLanguage'=>'ru_RU',
    'charset'=>'utf-8',
    //'preload'=>array('log'),
    'theme'=>'m',
    'import'=>array(
        'application.models.*',
        'application.components.*',
        'ext.galleryManager.models.*',
        'ext.galleryManager.*',
    ),
    'defaultController'=>'site',
    'controllerMap'=>array(
        'gallery'=>array(
            'class'=>'ext.galleryManager.GalleryController',
        ),
    ),
    'components'=>array(
        'clientScript'=>array(
            'packages'=>array(
                'jquery'=>array(
                    'baseUrl'=>'//code.jquery.com/',
                    'js'=>array(
                        'jquery-1.11.1.min.js',
                    ),
                ),
            ),
        ),
        'image'=>array(
            'class'=>'application.extensions.image.CImageComponent',
            'driver'=>'GD',
        ),
        'cache'=>array(
            'class'=>'system.caching.CMemCache',
            'servers'=>array(
                array('host'=>'localhost', 'port'=>11211, 'weight'=>60),
            ),
        ),
        'filcache'=>array(
            'class'=>'system.caching.CFileCache',
        ),
        'db'=>array(
            'connectionString'=>'mysql:host=localhost;dbname=medbooking_beta_prod',
            'emulatePrepare'=>true,
            'username'=>'medbooking',
            'password'=>'ieCh6ahsheeh',
            'charset'=>'utf8',
            'tablePrefix'=>'',
            //'enableProfiling'=>true,
            //'enableParamLogging'=>true,
        ),
        'errorHandler'=>array(
            'errorAction'=>'site/error',
            'discardOutput'=>false,
        ),
        'urlManager'=>array(
            'urlFormat'=>'path',
            'showScriptName'=>false,
            'rules'=>array(
                ''=>'site/index',                
                array(
                    'class'=>'application.components.ClinicUrlRule',
                    'connectionID'=>'db',
                ),                
                'error'=>'site/error',
                'blog/post/<id:[\S]+>'=>'site/blogSingle',
                'blog/page/<page:[\d]+>/<theme:[\S]+>'=>'site/blogList',
                'blog/page/<page:[\d]+>'=>'site/blogList',
                'blog/<theme:[\S]+>'=>'site/blogList',
                'blog'=>'site/blogList',
                'illness/<id:[\S]+>'=>'site/illnessSingle',
                'illness'=>'site/illnessList',
                'services/category/<id:[\S]+>/sort/<sort:[\S]+>'=>'site/serviceSingle',
                'services/category/<id:[\S]+>'=>'site/serviceSingle',
                'services/<theme:[\S]+>'=>'site/serviceList',
                'services'=>'site/serviceList',
                'handbook/<id:[\S]+>'=>'site/serviceList',
                'handbook'=>'site/serviceList',
                'project'=>'site/project',
                'search_clinic/setevaya/page/<page:[\d]+>'=>'clinic/setevaya',
                'search_clinic/setevaya'=>'clinic/setevaya',
                'search_clinic/<category:[\w\-]+>/metro/<subway:[\w\-]+>/page/<page:[\d]+>'=>'clinic/index',
                'search_clinic/<category:[\w\-]+>/district/<district:[\w\-]+>/page/<page:[\d]+>'=>'clinic/index',
                'search_clinic/<category:[\w\-]+>/metro/<subway:[\w\-]+>'=>'clinic/index',
                'search_clinic/<category:[\w\-]+>/district/<district:[\w\-]+>'=>'clinic/index',
                'search_clinic/metro/<subway:[\w\-]+>'=>'clinic/index',
                'search_clinic/district/<district:[\w\-]+>'=>'clinic/index',
                'search_clinic/<category:[\w\-]+>/page/<page:[\d]+>'=>'clinic/index',
                'search_clinic/<category:[\w\-]+>'=>'clinic/index',
                'search_clinic/page/<page:[\d]+>'=>'clinic/index',
                'search_clinic'=>'clinic/index',
                'clinic/comment/<id:[\d]+>/limit/<limit:[\d]+>'=>'clinic/comment',
                'clinic/comment/<id:[\d]+>'=>'clinic/comment',
                'clinic/rating/<id:[\d]+>'=>'clinic/rating',
                'clinic/<id:[\S]+>'=>'clinic/single',
                'specialist/<clinic_id:[\S]+>'=>'clinic/specialist',
                'search_doctor/<category:[\w\-]+>/metro/<subway:[\w\-]+>/vyzov/<house:[\w\-]+>/page/<page:[\d]+>'=>'doctor/index',
                'search_doctor/<category:[\w\-]+>/district/<district:[\w\-]+>/vyzov/<house:[\w\-]+>/page/<page:[\d]+>'=>'doctor/index',
                'search_doctor/<category:[\w\-]+>/metro/<subway:[\w\-]+>/page/<page:[\d]+>'=>'doctor/index',
                'search_doctor/<category:[\w\-]+>/district/<district:[\w\-]+>/page/<page:[\d]+>'=>'doctor/index',
                'search_doctor/<category:[\w\-]+>/metro/<subway:[\w\-]+>/vyzov/<house:[\w\-]+>'=>'doctor/index',
                'search_doctor/<category:[\w\-]+>/district/<district:[\w\-]+>/vyzov/<house:[\w\-]+>'=>'doctor/index',
                'search_doctor/<category:[\w\-]+>/metro/<subway:[\w\-]+>'=>'doctor/index',
                'search_doctor/<category:[\w\-]+>/district/<district:[\w\-]+>'=>'doctor/index',
                'search_doctor/metro/<subway:[\w\-]+>/vyzov/<house:[\w\-]+>'=>'doctor/index',
                'search_doctor/district/<district:[\w\-]+>/vyzov/<house:[\w\-]+>'=>'doctor/index',
                'search_doctor/metro/<subway:[\w\-]+>'=>'doctor/index',
                'search_doctor/district/<district:[\w\-]+>'=>'doctor/index',
                'search_doctor/<category:[\w\-]+>/vyzov/<house:[\w\-]+>/page/<page:[\d]+>'=>'doctor/index',
                'search_doctor/<category:[\w\-]+>/page/<page:[\d]+>'=>'doctor/index',
                'search_doctor/<category:[\w\-]+>/vyzov/<house:[\w\-]+>'=>'doctor/index',
                'search_doctor/<category:[\w\-]+>'=>'doctor/index',
                'search_doctor/vyzov/<house:[\w\-]+>/page/<page:[\d]+>'=>'doctor/index',
                'search_doctor/page/<page:[\d]+>'=>'doctor/index',
                'search_doctor/vyzov/<house:[\w\-]+>'=>'doctor/index',
                'search_doctor'=>'doctor/index',
                'doctor/comment/<id:[\d]+>/limit/<limit:[\d]+>'=>'doctor/comment',
                'doctor/comment/<id:[\d]+>'=>'doctor/comment',
                'doctor/rating/<id:[\d]+>'=>'doctor/rating',
                'doctor/<id:[\S]+>'=>'doctor/single',
                '<controller:\w+>/<action:\w+>/<id:[\d\w]+>'=>'<controller>/<action>',
                '<controller:\w+>/<action:\w+>'=>'<controller>/<action>',
            ),
        ),
        /*'log'=>array(
            'class'=>'CLogRouter',
            'routes'=>array(
                array(
                    'class'=>'CWebLogRoute',
                    'enabled'=>true,
                ),
            ),
        ),*/
    ),
);
